<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>array</title>
</head>
<body>
<?php
function hasRequired($array, $requiredFields) {
    $keys = array_keys ( $array );
    foreach ( $requiredFields as $fieldName ) {
        if (!in_array ( $fieldName, $keys )) {
            return false;
        }
    }
    return true;
}

if (isset($_POST ['submitted'])){
    if ($_POST ['submitted']) {
        print_r($_POST);
        $testArray = array_filter($_POST);
        print_r($testArray);

        echo "<p>You ";
        echo hasRequired ( $testArray, array (
            'name',
            'email_address'
            ) ) ? "did" : "did not";
        echo " have all the required fields.</p>";
    }
}
?>
<form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="POST">
    <p>
    Name: <input type="text" name="name" /><br /> 
    Email address: <input type="text" name="email_address" /><br /> 
    Age (optional): <input type="text" name="age" />
    </p>
    <p align="center">
    <input type="submit" value="submit" name="submitted" />
    </p>
</form>    
</body>
</html>